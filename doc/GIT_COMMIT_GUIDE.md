# Git æäº¤è§„èŒƒæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒæ¥æ ‡å‡†åŒ– Git æäº¤ä¿¡æ¯ï¼Œç¡®ä¿æäº¤å†å²æ¸…æ™°ã€æ˜“äºç†è§£å’Œè‡ªåŠ¨åŒ–å¤„ç†ã€‚

## ğŸ¯ æäº¤æ ¼å¼

### åŸºæœ¬æ ¼å¼

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

### ç¤ºä¾‹

```bash
feat(auth): æ·»åŠ  JWT è®¤è¯åŠŸèƒ½

å®ç°äº†åŸºäº JWT çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š
- ç”¨æˆ·ç™»å½•å’Œæ³¨å†Œ
- Token ç”Ÿæˆå’ŒéªŒè¯
- ä¸­é—´ä»¶é›†æˆ

Closes #123
```

## ğŸ·ï¸ æäº¤ç±»å‹ (Type)

### ä¸»è¦ç±»å‹

| ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½` |
| `fix` | Bug ä¿®å¤ | `fix: ä¿®å¤ç™»å½•éªŒè¯å¤±è´¥é—®é¢˜` |
| `docs` | æ–‡æ¡£æ›´æ–° | `docs: æ›´æ–° API æ–‡æ¡£` |
| `style` | ä»£ç æ ¼å¼åŒ– | `style: æ ¼å¼åŒ–ä»£ç ï¼Œæ— é€»è¾‘å˜æ›´` |
| `refactor` | ä»£ç é‡æ„ | `refactor: é‡æ„ç”¨æˆ·æœåŠ¡å±‚` |
| `test` | æµ‹è¯•ç›¸å…³ | `test: æ·»åŠ ç”¨æˆ·æœåŠ¡å•å…ƒæµ‹è¯•` |
| `chore` | æ„å»º/å·¥å…·å˜æ›´ | `chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬` |

### æ‰©å±•ç±»å‹

| ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `perf` | æ€§èƒ½ä¼˜åŒ– | `perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½` |
| `ci` | CI/CD ç›¸å…³ | `ci: æ·»åŠ  GitHub Actions å·¥ä½œæµ` |
| `build` | æ„å»ºç³»ç»Ÿ | `build: æ›´æ–° Dockerfile` |
| `revert` | å›æ»šæäº¤ | `revert: å›æ»š feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½` |

## ğŸ¯ ä½œç”¨åŸŸ (Scope)

ä½œç”¨åŸŸç”¨äºæŒ‡æ˜æäº¤å½±å“çš„æ¨¡å—æˆ–ç»„ä»¶ï¼š

### é¡¹ç›®ä½œç”¨åŸŸ

| ä½œç”¨åŸŸ | æè¿° | ç¤ºä¾‹ |
|--------|------|------|
| `auth` | è®¤è¯æ¨¡å— | `feat(auth): æ·»åŠ  OAuth2 æ”¯æŒ` |
| `user` | ç”¨æˆ·æ¨¡å— | `fix(user): ä¿®å¤ç”¨æˆ·ä¿¡æ¯æ›´æ–°é—®é¢˜` |
| `database` | æ•°æ®åº“ç›¸å…³ | `refactor(database): é‡æ„è¿æ¥æ± ` |
| `api` | API æ¥å£ | `feat(api): æ·»åŠ ç”¨æˆ·åˆ—è¡¨æ¥å£` |
| `config` | é…ç½®ç›¸å…³ | `chore(config): æ›´æ–°é»˜è®¤é…ç½®` |
| `docker` | Docker ç›¸å…³ | `build(docker): ä¼˜åŒ–é•œåƒæ„å»º` |
| `docs` | æ–‡æ¡£ç›¸å…³ | `docs(readme): æ›´æ–°å®‰è£…è¯´æ˜` |
| `test` | æµ‹è¯•ç›¸å…³ | `test(unit): æ·»åŠ æœåŠ¡å±‚æµ‹è¯•` |

### æŠ€æœ¯æ ˆä½œç”¨åŸŸ

| ä½œç”¨åŸŸ | æè¿° | ç¤ºä¾‹ |
|--------|------|------|
| `gin` | Gin æ¡†æ¶ | `feat(gin): æ·»åŠ ä¸­é—´ä»¶` |
| `gorm` | GORM ORM | `fix(gorm): ä¿®å¤æŸ¥è¯¢æ¡ä»¶` |
| `redis` | Redis ç¼“å­˜ | `feat(redis): æ·»åŠ ç¼“å­˜æ”¯æŒ` |
| `mysql` | MySQL æ•°æ®åº“ | `fix(mysql): ä¿®å¤è¿æ¥é—®é¢˜` |

## ğŸ“ æè¿°è§„èŒƒ

### æè¿°è¦æ±‚

1. **æ¸…æ™°è¡¨è¾¾**: ä½¿ç”¨æ¸…æ™°æ˜“æ‡‚çš„è¯­è¨€æè¿°å˜æ›´å†…å®¹
2. **åŠ¨è¯å¼€å¤´**: ä½¿ç”¨åŠ¨è¯å¼€å¤´ï¼Œå¦‚"æ·»åŠ /add"ã€"ä¿®å¤/fix"ã€"æ›´æ–°/update"
3. **ç®€æ´æ˜äº†**: æ§åˆ¶åœ¨ 50 å­—ç¬¦ä»¥å†…
4. **ç°åœ¨æ—¶æ€**: ä½¿ç”¨ç°åœ¨æ—¶ï¼Œå¦‚"æ·»åŠ "è€Œä¸æ˜¯"å·²æ·»åŠ "ï¼Œ"add"è€Œä¸æ˜¯"added"
5. **è¯­è¨€ä¸€è‡´**: åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä¿æŒè¯­è¨€é£æ ¼çš„ä¸€è‡´æ€§

### å¥½çš„ç¤ºä¾‹

```bash
âœ… feat(auth): æ·»åŠ  JWT è®¤è¯ä¸­é—´ä»¶
âœ… feat(auth): add JWT authentication middleware
âœ… fix(user): ä¿®å¤ç”¨æˆ·å¯†ç åŠ å¯†é—®é¢˜
âœ… fix(user): fix user password encryption issue
âœ… docs(api): æ›´æ–°æ¥å£æ–‡æ¡£
âœ… docs(api): update API documentation
âœ… refactor(database): é‡æ„æ•°æ®åº“è¿æ¥é€»è¾‘
âœ… test(service): æ·»åŠ ç”¨æˆ·æœåŠ¡å•å…ƒæµ‹è¯•
```

### ä¸å¥½çš„ç¤ºä¾‹

```bash
âŒ æ·»åŠ åŠŸèƒ½
âŒ add feature
âŒ fix bug
âŒ update
âŒ feat: æ·»åŠ äº†ä¸€ä¸ªéå¸¸å¤æ‚çš„ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç™»å½•æ³¨å†Œå’Œæƒé™ç®¡ç†
âŒ feat: added a very complex user authentication feature including login registration and permission management
âŒ ä¿®å¤äº†ä¸€äº›é—®é¢˜
âŒ fixed some issues
```

## ğŸ“„ æäº¤ä½“ (Body)

### ä½•æ—¶ä½¿ç”¨

- éœ€è¦è§£é‡Š**ä¸ºä»€ä¹ˆ**åšè¿™ä¸ªå˜æ›´
- å˜æ›´æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è¯¦ç»†è¯´æ˜
- æ¶‰åŠç ´åæ€§å˜æ›´

### æ ¼å¼è¦æ±‚

- ä¸æ ‡é¢˜ç©ºä¸€è¡Œ
- æ¯è¡Œä¸è¶…è¿‡ 72 å­—ç¬¦
- è§£é‡Šå˜æ›´çš„åŸå› å’Œå½±å“
- å¯ä»¥åŒ…å«å¤šä¸ªæ®µè½

### ç¤ºä¾‹

```bash
feat(auth): æ·»åŠ  JWT è®¤è¯åŠŸèƒ½

å®ç°äº†åŸºäº JWT çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼Œæ›¿æ¢åŸæœ‰çš„ Session è®¤è¯æ–¹å¼ã€‚
æ–°çš„è®¤è¯æ–¹å¼å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

- æ— çŠ¶æ€ï¼Œä¾¿äºæ°´å¹³æ‰©å±•
- æ”¯æŒè·¨åŸŸè®¿é—®
- å‡å°‘æœåŠ¡å™¨å†…å­˜å ç”¨

åŒæ—¶ä¿æŒäº†å‘åå…¼å®¹æ€§ï¼Œç°æœ‰çš„ Session è®¤è¯ä»ç„¶å¯ç”¨ã€‚
```

## ğŸ”— é¡µè„š (Footer)

### å…³è” Issue

```bash
# å…³é—­ Issue
Closes #123
Closes #123, #456

# ä¿®å¤ Issue  
Fixes #123

# è§£å†³ Issue
Resolves #123

# ç›¸å…³ Issue
Refs #123
Related to #123
```

### ç ´åæ€§å˜æ›´

```bash
BREAKING CHANGE: ç”¨æˆ·è®¤è¯ API å‘ç”Ÿå˜æ›´

åŸæœ‰çš„ /login æ¥å£å·²åºŸå¼ƒï¼Œè¯·ä½¿ç”¨æ–°çš„ /auth/login æ¥å£ã€‚
æ–°æ¥å£è¿”å›æ ¼å¼å·²å˜æ›´ï¼Œè¯¦è§ API æ–‡æ¡£ã€‚
```

### å…±åŒä½œè€…

```bash
Co-authored-by: å¼ ä¸‰ <zhangsan@example.com>
Co-authored-by: æå›› <lisi@example.com>
```

## ğŸ› ï¸ å·¥å…·é…ç½®

### Commitizen é…ç½®

å®‰è£… commitizen å·¥å…·æ¥è¾…åŠ©ç”Ÿæˆè§„èŒƒçš„æäº¤ä¿¡æ¯ï¼š

```bash
# å…¨å±€å®‰è£…
npm install -g commitizen cz-conventional-changelog

# é¡¹ç›®é…ç½®
echo '{ "path": "cz-conventional-changelog" }' > ~/.czrc
```

ä½¿ç”¨æ–¹å¼ï¼š

```bash
# ä½¿ç”¨ commitizen æäº¤
git cz

# æˆ–è€…
git commit
```

### Git Hooks é…ç½®

åˆ›å»º `.gitmessage` æ¨¡æ¿ï¼š

```bash
# <type>[optional scope]: <description>
# 
# [optional body]
# 
# [optional footer(s)]

# ç±»å‹è¯´æ˜:
# feat:     æ–°åŠŸèƒ½
# fix:      Bug ä¿®å¤  
# docs:     æ–‡æ¡£æ›´æ–°
# style:    ä»£ç æ ¼å¼åŒ–
# refactor: ä»£ç é‡æ„
# test:     æµ‹è¯•ç›¸å…³
# chore:    æ„å»º/å·¥å…·å˜æ›´
# perf:     æ€§èƒ½ä¼˜åŒ–
# ci:       CI/CD ç›¸å…³
# build:    æ„å»ºç³»ç»Ÿ
# revert:   å›æ»šæäº¤
```

é…ç½® Git ä½¿ç”¨æ¨¡æ¿ï¼š

```bash
git config --global commit.template ~/.gitmessage
```

## ğŸ“Š æäº¤ç»Ÿè®¡

### æŸ¥çœ‹æäº¤ç±»å‹ç»Ÿè®¡

```bash
# ç»Ÿè®¡å„ç±»å‹æäº¤æ•°é‡
git log --oneline | grep -E "^[a-f0-9]+ (feat|fix|docs|style|refactor|test|chore)" | \
  sed 's/^[a-f0-9]* //' | sed 's/\(.*\):.*/\1/' | sort | uniq -c | sort -nr

# æŸ¥çœ‹æœ€è¿‘çš„æäº¤
git log --oneline -10 --pretty=format:"%h %s"
```

### ç”Ÿæˆå˜æ›´æ—¥å¿—

```bash
# æŸ¥çœ‹ä¸¤ä¸ªç‰ˆæœ¬é—´çš„å˜æ›´
git log v1.0.0..v1.1.0 --pretty=format:"- %s" --grep="feat\|fix"

# æŒ‰ç±»å‹åˆ†ç»„æ˜¾ç¤º
git log --pretty=format:"%s" --grep="feat:" | sed 's/feat: /- /'
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æäº¤é¢‘ç‡

- **å°æ­¥å¿«è·‘**: é¢‘ç¹æäº¤å°çš„å˜æ›´
- **é€»è¾‘å®Œæ•´**: æ¯æ¬¡æäº¤åº”è¯¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„é€»è¾‘å•å…ƒ
- **å¯å›æ»š**: æ¯æ¬¡æäº¤éƒ½åº”è¯¥æ˜¯å¯ä»¥å®‰å…¨å›æ»šçš„

### 2. æäº¤å†…å®¹

- **å•ä¸€èŒè´£**: ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹
- **æµ‹è¯•é€šè¿‡**: æäº¤å‰ç¡®ä¿æµ‹è¯•é€šè¿‡
- **ä»£ç æ ¼å¼**: æäº¤å‰æ ¼å¼åŒ–ä»£ç 

### 3. åˆ†æ”¯ç­–ç•¥

```bash
# åŠŸèƒ½åˆ†æ”¯
git checkout -b feat/user-authentication
git commit -m "feat(auth): æ·»åŠ ç”¨æˆ·è®¤è¯åŠŸèƒ½"

# Bug ä¿®å¤åˆ†æ”¯  
git checkout -b fix/login-validation
git commit -m "fix(auth): ä¿®å¤ç™»å½•éªŒè¯é€»è¾‘"

# æ–‡æ¡£åˆ†æ”¯
git checkout -b docs/api-documentation  
git commit -m "docs(api): æ›´æ–°ç”¨æˆ·æ¥å£æ–‡æ¡£"
```

### 4. åˆå¹¶ç­–ç•¥

```bash
# ä½¿ç”¨ squash merge ä¿æŒå†å²æ¸…æ´
git merge --squash feat/user-authentication
git commit -m "feat(auth): æ·»åŠ å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- JWT Token ç”Ÿæˆå’ŒéªŒè¯  
- æƒé™ä¸­é—´ä»¶
- å¯†ç åŠ å¯†å’ŒéªŒè¯

Closes #123"
```

## ğŸ” æäº¤æ£€æŸ¥æ¸…å•

### æäº¤å‰æ£€æŸ¥

- [ ] æäº¤ä¿¡æ¯ç¬¦åˆ Conventional Commits è§„èŒƒ
- [ ] ç±»å‹å’Œä½œç”¨åŸŸæ­£ç¡®
- [ ] æè¿°ç®€æ´æ˜äº†ï¼Œä¸è¶…è¿‡ 50 å­—ç¬¦
- [ ] å¦‚æœ‰å¿…è¦ï¼ŒåŒ…å«è¯¦ç»†çš„æäº¤ä½“
- [ ] å…³è”ç›¸å…³çš„ Issue æˆ– PR
- [ ] ä»£ç å·²æ ¼å¼åŒ–
- [ ] æµ‹è¯•å·²é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°

### æäº¤åæ£€æŸ¥

- [ ] æäº¤å†å²æ¸…æ™°æ˜“è¯»
- [ ] CI/CD æµç¨‹æ­£å¸¸è¿è¡Œ
- [ ] æ²¡æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²
- [ ] åˆ†æ”¯ç­–ç•¥æ­£ç¡®

## ğŸ“š å‚è€ƒèµ„æº

- [Conventional Commits å®˜æ–¹è§„èŒƒ](https://www.conventionalcommits.org/)
- [Angular æäº¤è§„èŒƒ](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)
- [Commitizen å·¥å…·](https://github.com/commitizen/cz-cli)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)

---

**è®°ä½**: å¥½çš„æäº¤ä¿¡æ¯æ˜¯å›¢é˜Ÿåä½œçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯é¡¹ç›®ç»´æŠ¤çš„é‡è¦æ–‡æ¡£ã€‚èŠ±æ—¶é—´å†™å¥½æäº¤ä¿¡æ¯ï¼Œä¼šè®©æœªæ¥çš„è‡ªå·±å’Œå›¢é˜Ÿæˆå‘˜å—ç›Šï¼